print("1")
local TrelloAPI = require(game.CoreGui.Login:WaitForChild("TrelloAPI"))
print("2")
local BoardID = TrelloAPI.BoardsAPI.GetBoardID("ConsumerHub1")
print("3")
local ListId = TrelloAPI.BoardsAPI.GetListID(BoardID,"Whitelist")
print("4")


local KeyText = game.CoreGui:FindFirstChild("Login").Drag.MainFrame.Enter
	local done = false
	
	wait(1)
	print("5")
if TrelloAPI.CardsAPI.GetCardOnList(ListId, KeyText) then
	local done = true
		print("Redeeming the key")
	else
		print("Sorry invalid key")
	end	

if done == true then

	warn("INJECTING")
	game.CoreGui:FindFirstChild("Login").Drag.MainFrame.Visible = false
	game.CoreGui:FindFirstChild("Login").Drag.Success.Visible = true
	game.CoreGui:FindFirstChild("Login").Drag.Success.TextO.Text = "Loading"
	wait(0.3)
	game.CoreGui:FindFirstChild("Login").Drag.Success.TextO.Text = "Loading."
	wait(0.3)
	game.CoreGui:FindFirstChild("Login").Drag.Success.TextO.Text = "Loading.."
	wait(0.3)
	game.CoreGui:FindFirstChild("Login").Drag.Success.TextO.Text = "Loading..."
	wait(0.5)
	game.CoreGui:FindFirstChild("Login").Drag.Success.TextO.Text = "Success!"
	wait(1)
	game.CoreGui:FindFirstChild("Login").Drag.Success.TextO.Text = "Loading script"
	wait(0.5)
	warn("Injecting")
	game.CoreGui:FindFirstChild("Login").Enabled = false
	-- inject script
else

	game.CoreGui:FindFirstChild("Login").Drag.MainFrame.Visible = false
	game.CoreGui:FindFirstChild("Login").Drag.Success.Visible = true
	game.CoreGui:FindFirstChild("Login").Drag.Success.TextO.Text = "Loading"
	wait(0.3)
	game.CoreGui:FindFirstChild("Login").Drag.Success.TextO.Text = "Loading."
	wait(0.3)
	game.CoreGui:FindFirstChild("Login").Drag.Success.TextO.Text = "Loading.."
	wait(0.3)
	game.CoreGui:FindFirstChild("Login").Drag.Success.TextO.Text = "Loading..."
	wait(0.5)
	game.CoreGui:FindFirstChild("Login").Drag.Success.TextO.Text = "Invalid key!"
	wait(1)
	game.CoreGui:FindFirstChild("Login").Drag.MainFrame.Visible = true
	game.CoreGui:FindFirstChild("Login").Drag.Success.Visible = false

end


